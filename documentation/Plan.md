# Тест план
## Сценарии
### Предусловия
Первоначально запускаем SUT (описание в README.md)  
Перед каждым тестом запускаем страницу в браузере "localhost:8080"
#### 1. Успешная оплата по карте и в кредит (Happy Path)

- нажимаем кнопку "Купить" ("Купить в кредит")
- в поле "Номер карты" вводим "4444 4444 4444 4441"
- в поле "Месяц" вводим валидное значение ("08") 
- в поле "Год" вводим валидное значение ("22")
- в поле "Владелец" вводим валидное значение
- в поле "CVC/CVV" вводим валидное значение
- нажимаем кнопку "Продолжить" (отправляется запрос в банк)  
Ожидаемый результат: появляется всплывающее окно "Успешно Операция одобрена банком"  
Проверяем наличие записи "APPROVED" в БД, отсутствие записи с номером карты

#### 2. Неудачная оплата по карте и в кредит
- нажимаем кнопку "Купить" ("Купить в кредит")
- в поле "Номер карты" вводим "4444 4444 4444 4442"
- в поле "Месяц" вводим валидное значение ("08")
- в поле "Год" вводим валидное значение ("22")
- в поле "Владелец" вводим валидное значение
- в поле "CVC/CVV" вводим валидное значение
- нажимаем кнопку "Продолжить" (отправляется запрос в банк)  
Ожидаемый результат: появляется всплывающее окно "Ошибка! Операция отклонена"  
Проверяем наличие записи "DECLINED" в БД, отсутствие записи с номером карты

#### 3.Невалидный ввод номера карты при обычной оплате и при оплате в кредит (меньшее количество цифр)
- нажимаем кнопку "Купить" ("Купить в кредит")
- в поле "Номер карты" вводим "4444 4444 4444"
- в поле "Месяц" вводим валидное значение
- в поле "Год" вводим валидное значение
- в поле "Владелец" вводим валидное значение
- в поле "CVC/CVV" вводим валидное значение
- нажимаем кнопку "Продолжить"  
Ожидаемый результат: под полем "Номер карты" появляется надпись "Неверный формат"

#### 4.Ввод валидных граничных значений в поле "Месяц" и "Год" при обычной оплате и при оплате в кредит
- нажимаем кнопку "Купить" ("Купить в кредит")
- в поле "Номер карты" вводим "4444 4444 4444 4441"
- в поле "Месяц" вводим текущий месяц (прошлый месяц)
- в поле "Год" вводим текущий год (+ 5 лет)
- в поле "Владелец" вводим валидное значение
- в поле "CVC/CVV" вводим валидное значение
- нажимаем кнопку "Продолжить"  
Ожидаемый результат: появляется всплывающее окно "Успешно Операция одобрена банком"  
Проверяем наличие записи "APPROVED" в БД, отсутствие записи с номером карты

#### 5.Ввод невалидного и невалидного граничного значения в поля "Месяц" и "Год" при обычной оплате и при оплате в кредит
- нажимаем кнопку "Купить" ("Купить в кредит")
- в поле "Номер карты" вводим "4444 4444 4444 4441"
- в поле "Месяц" вводим прошлый месяц (текущий месяц), а также значения "00", "13"
- в поле "Год" вводим год (+ 5 лет), а также валидный год (соответственно с месяцем)
- в поле "Владелец" вводим валидное значение
- в поле "CVC/CVV" вводим валидное значение
- нажимаем кнопку "Продолжить"  
Ожидаемый результат: под полем "Год" появляется надпись "Истёк срок действия карты"
  
#### 6.Ввод невалидного значения в поле "Владелец" при обычной оплате и при оплате в кредит
- нажимаем кнопку "Купить" ("Купить в кредит")
- в поле "Номер карты" вводим "4444 4444 4444 4441"
- в поле "Месяц" вводим валидное значение
- в поле "Год" вводим валидное значение
- в поле "Владелец" вводим русскими (фамилию и имя) и английскими буквами только имя, 
  фамилию(имя) через дефис, цифры, 65 символов, 1 символ
- в поле "CVC/CVV" вводим валидное значение
- нажимаем кнопку "Продолжить"  
Ожидаемый результат: под полем "Владелец" появляется надпись "Некорректно заполнено поле"

#### 7.Ввод невалидного значения в поле "СVC/CVV" при обычной оплате и при оплате в кредит
- нажимаем кнопку "Купить" ("Купить в кредит")
- в поле "Номер карты" вводим "4444 4444 4444 4441"
- в поле "Месяц" вводим валидное значение
- в поле "Год" вводим валидное значение
- в поле "Владелец" вводим валидное значение
- в поле "CVC/CVV" вводим "000"
- нажимаем кнопку "Продолжить"  
Ожидаемый результат: под полем "СVC/CVV" появляется надпись "Некорректно заполнено поле"

#### 8.Возможность отправки с незаполненным полем при обычной оплате и при оплате в кредит
Перед каждым тестом нажимаем кнопку "Купить" ("Купить в кредит")
1. * заполняем все поля валидными значениями, поле "Номер карты" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Номер карты" появляется надпись "Поле обязательно для заполнения"
2. * заполняем все поля валидными значениями, поле "Месяц" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Месяц" появляется надпись "Поле обязательно для заполнения"
3. * заполняем все поля валидными значениями, поле "Год" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Месяц" появляется надпись "Поле обязательно для заполнения"
4. * заполняем все поля валидными значениями, поле "Владелец" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Владелец" появляется надпись "Поле обязательно для заполнения"   
5. * заполняем все поля валидными значениями, поле "CVC/CVV" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "CVC/CVV" появляется надпись "Поле обязательно для заполнения"

  
## Используемые инструменты

- Java 11 (кросс-платформенная совместимость, поддержка ООП)   
- IntellijIDEA Ultimate 2020.3.1, Gradle (интуитивный интерфейс, удобство сборки)
- Junit-jupiter-api:5.6.1 
- MySQL 8.0.22 (заявлена поддержка этой СУБД)
- PostgreSQL 12-alpine (заявлена поддержка этой СУБД)
- Node.js (симулятор написан на Node.js)
- Selenide:5.11.0 (удобный синтаксис, автоматическое управление браузером)
- Rest-assured:4.3.0 (удобство проверки запросов)
- Allure:2.13.0 (подробная и наглядная отчетность)
- Google Chrome Версия 87.0.4280.141 (быстродействие, популярность)  
- Git, GitHub (простота и доступность использования проекта целиком)

### Возможные риски при автоматизации

- Использование захардкоженных номеров карт
- Отсутствие документации
- Возможно возникновение сложностей с установкой необходимого ПО

### Интервальная оценка с учетом рисков (в часах)

- 60-80 часов

### План сдачи работ

- Авто-тесты - 10 дней со дня утверждения плана
- Отчёты - 3 дня с момента согласования авто-тестов
